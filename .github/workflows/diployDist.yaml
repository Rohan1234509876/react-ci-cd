name : dist
on : [push,workflow_dispatch]
jobs :
    test : 
        runs-on : ubuntu-latest
        steps : 
            - name : "Get Code"
              uses : actions/checkout@v3
                

            - name : "install node"
              uses : actions/setup-node@v2
              with : 
                node-version : 20

            - name : "print node version"
              run : node -v

            - name : "install dependencies"
              run : npm install

            - name : "run test"
              run : npm run test


    deploy : 
        needs :  test
        runs-on : ubuntu-latest
        steps : 
            
              
            - name : "Get Code"
              uses : actions/checkout@v3
            - name : "install node"
              uses : actions/setup-node@v4
              with : 
                node-version : 20

            - name : "install dependencies"
              run : npm install

            - name : "build"
              run : npm run build

            - name : "deploy"
              run : echo "deploying successfully"